<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>
        </title>
        <link href="style.css" rel="stylesheet" type="text/css" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
        />
        <script src="js.js">
        </script>
        <script>
            window.onload = function()
            {
                var M = 3;
                var nav = document.getElementById("play");
                var urlimg = "http://7xjbmk.com1.z0.glb.clouddn.com/xzq6.jpg";
                var bg = [];
                //初始化游戏界面
                var _J = installshuffleJ(M);
                for (var i = 0,
                j = 1; j <= M; j++)
                {
                    for (var k = 1; k <= M; k++)
                    {
                        bg[i] = -(k - 1) * 100 + "px " + -(j - 1) * 100 + "px";
                        i++;
                    }
                }
                for (var i = 0; i < _J.length; i++)
                {
                    var li = document.createElement("li");
                    nav.appendChild(li);
                    li.style.backgroundImage = "url(" + urlimg + ")";
                    li.style.backgroundPosition = bg[_J[i]];
                    li.className = "li" + i;
                    li.id = "li" + _J[i];
                }
                // document.getElementById("li0").style.backgroundImage="none";
                //初始化游戏界面结束
                //点击移动
                var lis = document.getElementsByTagName("li");
                for (var i = 0; i < lis.length; i++)
                {
                    a = function(i) {
                        lis[i].onclick = function() {
                            if (canmove(lis[i]))
                            {
                                var zero = document.getElementById("li8");
                                var x = lis[i].getAttribute("id");
                                var bg = lis[i].style.backgroundPosition;
                                zero.style.backgroundImage = "url(" + urlimg + ")";
                                zero.style.backgroundPosition = bg;
                                zero.id = x;
                                lis[i].style.backgroundImage = "none";
                                lis[i].setAttribute("id", "li8");
                            }
                        }
                    }
                    a(i);
                }
            }
        </script>
    </head>
    <body>
        <div class="main">
            <ul class="play" id="play">
            </ul>
        </div>
        <div class="demo"><img src="http://7xjbmk.com1.z0.glb.clouddn.com/xzq6.jpg" alt=""></div>
    </body>
</html>
